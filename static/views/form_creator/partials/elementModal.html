<!-- ELEMENT MODAL -->
<div ng-controller="ElementModalCtrl">
	<div id="elementModal" modal="shouldBeOpen" close="close()" options="opts">
		<div class="modal-header">
			<h3>{{editElement.title}}</h3>
		</div>
		<div class="modal-body">
			<form>
				<fieldset>
					<label>Title</label>
					<textarea class="textarea-small" ng-model="editElement.title" type="text" placeholder="Type somethingâ€¦"></textarea>
					<hr>
		            <div>
		            	<div class="buttons-centered">
		            		<button ng-click="addDescriptor()" ng-class="{'disabled':form.descriptorLoading()}" class="btn btn-small btn-success">
		            			<span ng-show="form.descriptorLoading()">Creating descriptor...</span>
		            			<span ng-show="!form.descriptorLoading()">
		            				<i class="icon-plus"></i> Add Descriptor
		            			</span>
		            		</button>
		            	</div>
						<hr>
						<p ng-show="groups[0].length > 0" class="center strong">Button Preview</p>
						<div ng-repeat="group in form.descriptorGroups()[standard][indicator][index]" class="buttons-centered">
							<button ng-repeat="descriptor in group" class="btn btn-small disabled">{{ descriptor.title }}</button>
						</div>

						<br>
						<alert ng-repeat="alert in elementAlerts" type="alert.type" close="closeAlert($index)">{{ alert.msg }}</alert>
						<br>
						<div ng-repeat="descriptor in editDescriptors | orderBy:'order'">
							<legend>{{ descriptor.order }}) {{ descriptor.title }}
								<button ng-click="openAlert('descriptor', descriptor.title, {}, 'deleteDescriptor', [$index, indicator, index])" class="descriptor-delete-button">Delete</button>
								<div class="pull-right btn-group">
									<button ng-click="moveDescriptor($index, 1)" ng-class="{'disabled': $index === 0}" class="btn btn-small"><i class="icon-arrow-up"></i></button>
									<button ng-click="moveDescriptor($index, -1)" ng-class="{'disabled': $index === editDescriptors.length-1}" class="btn btn-small"><i class="icon-arrow-down"></i></button>
								</div>
							</legend>
					 		<label>Title</label>
					 		<input ng-model="editDescriptors[$index].title" type="text">
					 		<label>Description</label>
					 		<textarea ng-model="editDescriptors[$index].description" type="text"></textarea>
					 		<label>Value</label>
					 		<input ng-model="editDescriptors[$index].value" type="number" step="1.00">
					 		<hr>
						</div>
					</div>
				</fieldset>
			</form>
		</div>
		<div class="modal-footer">
			<button ng-click="saveElement()" class="btn btn-primary">Save</button>
			<button class="btn" ng-click="close()">Cancel</button>
		</div>
	</div>
</div>
<!-- END ELEMENT MODAL -->