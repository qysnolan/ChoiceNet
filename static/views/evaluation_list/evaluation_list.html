<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
          <div class="page-header">
		    <a href="/newEvaluation/" class="page-header-right btn"><i class="icon-plus"></i> New Evaluation</a>
            <h1>View Evaluations</h1>
        </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <div class="span6" >
                <div class="search-box">
                    <label>
                        Search:
                        <input ng-model="search" type="text" class="input-large" placeholder="By Teacher, Evaluator or Form">
                    </label>
                </div>
            </div>
            <div class="span6">
                <pagination num-pages="totalPages" current-page="currentPage" max-size="maxSize" boundary-links="true" class="text-right"></pagination>
            </div>
            <table class="table table-striped table-bordered" id="evaluationsTable">
		    <thead>
			<tr>
				<th ng-repeat="(i,th) in column_head" ng-click="changeSorting(i)">
                       {{ th }}
                       <a  class="table-sorter"><i ng-class="{'icon-sort-up':i==sort.column && sort.descending, 'icon-sort-down':i==sort.column && !sort.descending, 'icon-sort':i!=sort.column}"></i></a>
                </th>
                <th>View</th>
                <th>Delete</th>
			</tr>
		    </thead>
		    <tbody>
            <tr ng-repeat="evaluation in evaluations">
                <td>{{ evaluation.time_modified | date:'MMM dd, yyyy, HH:mm'}}</td>
                <td>{{ evaluation.teacher_name }}</td>
                <td>{{ evaluation.form_name }}</td>
                <td>{{ evaluation.evaluator_name }}</td>
                <td class="cell-center center">
                    <i ng-show="evaluation.is_submitted" class="icon-ok-sign"></i>
                    <i ng-show="!evaluation.is_submitted" class="icon-remove-sign"></i>
                </td>
                <td class="cell-center center">
                    <a href="/viewEvaluation/{{ evaluation.id }}/"
                        class="btn btn-primary" ng-show="canEdit(evaluation)">
                        View
                    </a>
                    <a href="/viewReport/{{ evaluation.id }}/"
                        class="btn btn-primary" ng-hide="canEdit(evaluation)">
                        View
                    </a>
                </td>
                <td class="cell-center center"><button class="btn btn-danger prompt" ng-show="userUrl == evaluation.evaluator" ng-click="deleteEvaluation(evaluation.id)" data-prompt="Are you sure you want to delete this evaluation?">Delete</button>
            </tr>
            <tr ng-show="count == undefined">
                <td colspan="8" class="center">
                    <h1><i class="icon-refresh icon-large icon-spin"></i> Loading evaluations...</h1>
                </td>
            </tr>
            <tr ng-show="false"></tr>
            <tr ng-show="count == 0">
                <td colspan="8" class="center">No evaluations found</td>
            </tr>
		    </tbody>
		    </table>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <div class="span6">
                <p>Showing {{ firstEntryOnCurrentPage }} to {{ lastEntryOnCurrentPage }} of {{ count }} evaluations</p>
            </div>
            <div class="span6">
                <pagination num-pages="totalPages" current-page="currentPage" boundary-links="true" class="text-right"></pagination>
            </div>

        </div>
    </div>

</div>

